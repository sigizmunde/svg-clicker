{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_set.js","node_modules/@parcel/runtime-js/lib/runtime-1922b7aae94ce34e.js","node_modules/@parcel/runtime-js/lib/runtime-658cefe6a51f69da.js","node_modules/@parcel/runtime-js/lib/runtime-ba37be2015cb4cd2.js","node_modules/@parcel/runtime-js/lib/runtime-9f77841a9b865eb8.js","node_modules/@parcel/runtime-js/lib/runtime-f4cc24c8c3d0c3f5.js","node_modules/@parcel/runtime-js/lib/runtime-c38e7ff525ecc0cb.js","node_modules/@parcel/runtime-js/lib/runtime-164476762cffcfb5.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","node_modules/@swc/helpers/lib/_class_private_field_set.js","node_modules/@swc/helpers/lib/_define_property.js","src/js/classes/history.js","src/js/classes/controller.js","src/js/svgclicker.js","src/js/classes/pallette.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorSet;\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9Ags1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"him0n\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lVWbw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gXWio\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eNvHB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6y8kD\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4A5go\\\":\\\"index.5fda761f.js\\\",\\\"9Ags1\\\":\\\"ub11.4021132b.svg\\\",\\\"him0n\\\":\\\"ub5.cb5ad3c9.svg\\\",\\\"lVWbw\\\":\\\"ub15.eb123731.svg\\\",\\\"gXWio\\\":\\\"ub7.54b535b0.svg\\\",\\\"eNvHB\\\":\\\"ub12.ef10ba01.svg\\\",\\\"6y8kD\\\":\\\"ub10.b3be43dd.svg\\\"}\"));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldSet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorSet = _interopRequireDefault(require(\"./_class_apply_descriptor_set\"));\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"set\");\n    (0, _classApplyDescriptorSet).default(receiver, descriptor, value);\n    return value;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","export class History {\n  #stack;\n\n  constructor(length) {\n    this.#stack = [];\n    this.length = length;\n  }\n\n  pushStack(state) {\n    try {\n      this.#stack.push(state);\n    } catch (err) {\n      console.error(err);\n      return 0;\n    }\n    this.watchTheLimit(this.length);\n    return 1;\n  }\n\n  popStack() {\n    return this.#stack.length > 0 ? this.#stack.pop() : null;\n  }\n\n  watchTheLimit(limit) {\n    if (this.#stack.length > limit) {\n      this.#stack.shift();\n      this.watchTheLimit(limit);\n    }\n  }\n\n  clearStack() {\n    this.#stack = [];\n  }\n\n  getLength() {\n    return this.#stack.length;\n  }\n}\n","import { History } from \"./history.js\";\n\nexport class Controller {\n  static MODES = [\"single\", \"group\", \"hover\"];\n  #mode;\n  histLimit = 50;\n\n  constructor(\n    groupBtn = null,\n    hoverBtn = null,\n    undoBtn = null,\n    revertBtn = null\n  ) {\n    if (Controller._instance) {\n      console.log(\"This singleton has an instance\", Controller._instance);\n      return Controller._instance;\n    }\n\n    Controller._instance = this;\n\n    this.#mode = \"single\"; //Controller.MODES[0];\n    this.currentColor = \"#ffffff\";\n    this.buttons = { groupBtn, hoverBtn, undoBtn, revertBtn };\n\n    this.backHistory = new History(this.histLimit);\n    this.forwardHistory = new History(this.histLimit);\n\n    if (this.buttons.groupBtn)\n      this.buttons.groupBtn.addEventListener(\"click\", () => this.gBtnClick());\n    if (this.buttons.hoverBtn)\n      this.buttons.hoverBtn.addEventListener(\"click\", () => this.hBtnClick());\n    if (this.buttons.undoBtn)\n      this.buttons.undoBtn.addEventListener(\"click\", () => this.undoChange());\n    if (this.buttons.revertBtn)\n      this.buttons.revertBtn.addEventListener(\"click\", () =>\n        this.revertChange()\n      );\n\n    // window.addEventListener(\"keydown\", (e) => console.log(e.code));\n  }\n\n  get mode() {\n    return this.#mode;\n  }\n\n  set mode(newMode) {\n    if (\n      typeof newMode === Number &&\n      newMode >= 0 &&\n      newMode < Controller.MODES.length\n    ) {\n      this.#mode = Controller.MODES[newMode];\n      return this.#mode;\n    }\n    // if (typeof newMode === String && Controller.MODES.includes(newMode))\n    else {\n      this.#mode = newMode;\n      return this.#mode;\n    }\n  }\n\n  leftClick(event) {\n    if (\n      this.mode === Controller.MODES[0] ||\n      this.mode === Controller.MODES[2]\n    ) {\n      // console.log(`target ${event.target.style}`);\n      if (event.target.style.fill === this.currentColor) return 0;\n      this.backHistory.pushStack([\n        {\n          element: event.target,\n          fill: event.target.style.fill,\n        },\n      ]);\n      event.target.style.fill = this.currentColor;\n      return 1;\n    } else if (this.mode === Controller.MODES[1]) {\n      // console.log(`currentTarget ${event.currentTarget.style}`);\n      const newHistoryState = [];\n      event.currentTarget.childNodes.forEach((node) => {\n        if (node.style.fill === this.currentColor) return;\n        newHistoryState.push({\n          element: node,\n          fill: node.style.fill,\n        });\n        node.style.fill = this.currentColor;\n      });\n      if (newHistoryState.length) {\n        this.backHistory.pushStack(newHistoryState);\n      }\n    }\n    this.returnFocus();\n  }\n\n  mouseOver(event) {\n    if (this.mode === Controller.MODES[0]) {\n      event.target.style.stroke = \"#ffffff\";\n    }\n    if (this.mode === Controller.MODES[1]) {\n      event.currentTarget.childNodes.forEach((node) => {\n        node.style.stroke = \"#ffffff\";\n      });\n    }\n    if (this.mode === Controller.MODES[2]) {\n      event.target.style.stroke = \"#ffffff\";\n      if (event.buttons === 1 || event.buttons === 3) {\n        if (event.target.style.fill === this.currentColor) return 0;\n        this.backHistory.pushStack([\n          {\n            element: event.target,\n            fill: event.target.style.fill,\n          },\n        ]);\n        event.target.style.fill = this.currentColor;\n      }\n    }\n  }\n\n  mouseLeave(event) {\n    event.currentTarget.childNodes.forEach((node) => {\n      node.style.stroke = \"none\";\n    });\n    this.returnFocus();\n  }\n\n  gBtnClick() {\n    this.buttons.groupBtn.classList.toggle(\"is-active\");\n    if (this.buttons.groupBtn.classList.contains(\"is-active\")) {\n      // console.log(\"group on\");\n      this.buttons.hoverBtn.classList.remove(\"is-active\");\n      this.mode = Controller.MODES[1];\n    } else {\n      // console.log(\"single\");\n      this.mode = Controller.MODES[0];\n    }\n  }\n\n  hBtnClick() {\n    this.buttons.hoverBtn.classList.toggle(\"is-active\");\n    if (this.buttons.hoverBtn.classList.contains(\"is-active\")) {\n      console.log(\"hover on\");\n      this.buttons.groupBtn.classList.remove(\"is-active\");\n      this.mode = Controller.MODES[2];\n    } else {\n      console.log(\"single\");\n      this.mode = Controller.MODES[0];\n    }\n  }\n\n  undoChange() {\n    console.log(\"undo\");\n    const state = this.backHistory.popStack();\n    const tempState = this.exchangeStates(state);\n\n    if (tempState) this.forwardHistory.pushStack(tempState);\n  }\n\n  revertChange() {\n    console.log(\"revert\");\n    const state = this.forwardHistory.popStack();\n    const tempState = this.exchangeStates(state);\n\n    if (tempState) this.backHistory.pushStack(tempState);\n  }\n\n  exchangeStates(state) {\n    if (!state) return 0;\n    try {\n      const newState = state.map((el) => {\n        return { element: el.element, fill: el.element.style.fill };\n      });\n      state.forEach((el) => {\n        // console.log(el.element.style.fill, el.fill);\n        el.element.style[\"fill\"] = el.fill;\n        // console.log(\"changed to \", el.element.style.fill);\n      });\n      return newState;\n    } catch (err) {\n      console.error(err);\n      return 0;\n    }\n  }\n\n  clearHistory() {\n    this.forwardHistory.clearStack();\n    this.backHistory.clearStack();\n  }\n\n  keyboardCommands(event) {\n    // console.log(\"key pressed \", event.code);\n\n    if (event.ctrlKey && event.code === \"KeyZ\" && !event.shiftKey) {\n      this.undoChange();\n    }\n    if (event.ctrlKey && event.shiftKey && event.code === \"KeyZ\") {\n      this.revertChange();\n    }\n  }\n\n  returnFocus() {\n    window.focus(); //this lets window listen to keyboard events\n    //this is not needed any more since keyboard listeners added to object.contentDocument\n  }\n}\n","import { PalletteArchive } from './classes/pallette.js';\nimport { Controller } from './classes/controller.js';\n\nconst pictureGallery = [\n  { name: 'Палай!', link: require('../images/ub11.svg') },\n  { name: 'Палай! — pattern', link: require('../images/ub5.svg') },\n  { name: 'Kyiv Santa', link: require('../images/ub15.svg') },\n  { name: 'russian ship', link: require('../images/ub7.svg') },\n  { name: 'Святокиця', link: require('../images/ub12.svg') },\n  { name: 'Кохайтеся', link: require('../images/ub10.svg') },\n];\n\n//   link: require(link) - this makes link for Parcel\n\nconst colorSchemesArr = [\n  {\n    palletteName: 'basic pallette',\n    colorNumArr: [0x3498db, 0xf1c40f, 0xe74c3c, 0x2ecc71, 0xecf0f1, 0x2c3e50],\n  },\n  {\n    palletteName: 'cold violet',\n    colorNumArr: [0x56b6c4, 0x9567e0, 0x6f3096, 0x06114f, 0xf7a579],\n  },\n  {\n    palletteName: 'purple sunrise',\n    colorNumArr: [0xf89f5b, 0xe53f71, 0x9c3587, 0x653780, 0x3f1651],\n  },\n  {\n    palletteName: 'vivid and bright',\n    colorNumArr: [\n      0x017aff, 0xf96300, 0xf5c900, 0x6c47ff, 0xf34971, 0xcdad7a, 0x39c0c8,\n      0xff9382, 0xaabb5d,\n    ],\n  },\n  {\n    palletteName: 'colors of 1980s',\n    colorNumArr: [0xfe68a8, 0x3869c8, 0x4fdddf, 0xffda58, 0xcf95fb],\n  },\n  {\n    palletteName: 'perfect storm',\n    colorNumArr: [0xb8d8d8, 0x7a9e9f, 0x4f6367, 0xeef5db, 0xfe5f55],\n  },\n  {\n    palletteName: 'shades of Ukraine',\n    colorNumArr: [0xfff04b, 0xffd234, 0xffae01, 0x006ad7, 0x218fff],\n  },\n];\n\nconst refs = {\n  body: document.querySelector('body'),\n  svgimage: document.getElementById('patternsvg'),\n  imageContainer: document.querySelector('.image-container'),\n  openMainMenuBtn: document.querySelector('#menu-open'),\n  mainMenu: document.querySelector('.main-menu'),\n  changePicBtn: document.querySelector('#change-pic-btn'),\n  savePicBtn: document.querySelector('#save-pic-btn'),\n  menuContainer: document.querySelector('.menu-container'),\n  backdrop: document.querySelector('.backdrop'),\n\n  groupBtn: document.querySelector('.js-group-tool-btn'),\n  hoverBtn: document.querySelector('.js-hover-tool-btn'),\n  undoBtn: document.querySelector('.js-undo-tool-btn'),\n  revertBtn: document.querySelector('.js-revert-tool-btn'),\n\n  colorPanel: document.querySelector('.color-menu'),\n  minimizeBtn: document.querySelector('.js-minimize-btn'),\n  colorListBtn: document.querySelector('.js-color-list-btn'),\n  currentColor: document.querySelector('.js-current-color'),\n  colorMenu: null,\n};\n\nconst controller = new Controller(\n  refs.groupBtn,\n  refs.hoverBtn,\n  refs.undoBtn,\n  refs.revertBtn\n);\n\nwindow.addEventListener('keydown', e => controller.keyboardCommands(e));\n\n// ========= mobile menu ==================================\nrefs.openMainMenuBtn.addEventListener('click', () =>\n  refs.mainMenu.classList.toggle('is-open')\n);\n\nrefs.mainMenu.addEventListener('click', () =>\n  refs.mainMenu.classList.toggle('is-open')\n);\n// ========================================================\n\nrefs.svgimage.setAttribute('data', pictureGallery[0].link);\n\naddSvgListeners(refs.svgimage);\n\nrefs.svgimage.addEventListener('load', function () {\n  addSvgListeners(refs.svgimage);\n  controller.clearHistory();\n});\n\nconst myColors = new PalletteArchive();\nmyColors.addPallettes(colorSchemesArr);\n\nupdateColorPanel(0);\n\nrefs.changePicBtn.addEventListener('click', e => {\n  e.preventDefault();\n  showPictureList(pictureGallery);\n});\n\nrefs.savePicBtn.addEventListener('click', e => {\n  e.preventDefault();\n  makeFile('kolyornytsia.svg');\n});\n\nrefs.minimizeBtn.addEventListener('click', onMinimizeBtnClick);\nrefs.colorListBtn.addEventListener('click', onColorListBtnClick);\n\nrefs.backdrop.addEventListener('click', hideModal);\n\n// =========== functions ============\n\nfunction setCurrentColor(colorString) {\n  controller.currentColor = colorString;\n  refs.currentColor.style.backgroundColor = colorString;\n}\n\nfunction addSvgListeners(objectEl) {\n  console.log('adding SVG listeners...');\n\n  let svgDoc = objectEl.contentDocument;\n  svgDoc.addEventListener('keydown', event =>\n    controller.keyboardCommands(event)\n  );\n  let els = svgDoc.querySelectorAll('g:not(#svg-back)');\n  for (const el of els) {\n    el.addEventListener('click', event => controller.leftClick(event));\n    el.addEventListener('mouseover', event => controller.mouseOver(event));\n    el.addEventListener('mouseleave', event => controller.mouseLeave(event));\n\n    console.log('found <g> element');\n  }\n  console.log('...done');\n}\n\nfunction onColorClick(event) {\n  setCurrentColor(event.target.style.backgroundColor);\n}\n\nfunction onClick(event) {\n  console.log(event.target, event.currentTarget);\n}\n\nfunction onMinimizeBtnClick(event) {\n  event.target.parentElement.classList.toggle('minimized');\n  event.target.innerText = event.target.innerText === '<' ? '>' : '<';\n}\n\nfunction onColorListBtnClick(event) {\n  const header = document.createElement('h2');\n  header.classList.add('pallette-menu__header');\n  header.innerText = 'Choose color pallette:';\n  refs.menuContainer.replaceChildren(header, myColors.generateListMarkup());\n  document.querySelectorAll('.js-pallette-name').forEach(item => {\n    item.classList.add('link');\n    item.addEventListener('click', event => {\n      const palName = event.target.dataset.palletteName;\n      updateColorPanel(palName);\n      hideModal();\n    });\n  });\n  showModal();\n}\n\nfunction showModal() {\n  refs.backdrop.classList.remove('is-hidden');\n  refs.menuContainer.classList.remove('is-hidden');\n}\n\nfunction hideModal() {\n  refs.backdrop.classList.add('is-hidden');\n  refs.menuContainer.classList.add('is-hidden');\n}\n\nfunction updateColorPanel(palletteID) {\n  refs.colorMenu = myColors.generatePalletteMarkup(palletteID);\n  refs.colorPanel\n    .querySelector('.js-color-pallette')\n    .replaceWith(refs.colorMenu[0]);\n  refs.colorPanel\n    .querySelector('.pallette-name')\n    .replaceWith(refs.colorMenu[1]);\n  for (const colorBox of refs.colorMenu[0].children) {\n    colorBox.addEventListener('click', onColorClick);\n  }\n  setCurrentColor(refs.colorMenu[0].children[0].style.backgroundColor);\n}\n\nfunction showPictureList(picArr) {\n  const header = document.createElement('h2');\n  header.classList.add('pallette-menu__header');\n  header.innerText = 'Choose a pisture:';\n  const listUl = document.createElement('ul');\n  listUl.classList.add('js-pallette-list');\n  listUl.style =\n    'display: block; margin: 0; background-color: white; color: black; padding: 0; list-style: none;';\n  picArr.forEach(pic => {\n    const el = document.createElement('li');\n    el.classList.add('js-svg-name');\n    el.innerText = pic.name;\n    el.dataset.link = pic.link;\n    listUl.append(el);\n  });\n  refs.menuContainer.replaceChildren(header, listUl);\n  document.querySelectorAll('.js-svg-name').forEach(item => {\n    item.classList.add('link');\n    item.addEventListener('click', event =>\n      changePictureAttempt(event.target.dataset.link)\n    );\n  });\n  showModal();\n}\n\nfunction changePictureAttempt(picLink) {\n  if (controller.backHistory.getLength()) {\n    const warning = createWarningContent(\n      'Your changes to the current picture will be lost. Load new picture anyway?',\n      () => changePicture(picLink),\n      hideModal\n    );\n    refs.menuContainer.replaceChildren(warning);\n    return;\n  }\n  changePicture(picLink);\n}\n\nfunction createWarningContent(message, funcYes, funcNo) {\n  const warning = document.createElement('div');\n  warning.classList.add('js-warning-alert');\n  warning.innerHTML = `<p>${message}</p>`;\n\n  const yes = document.createElement('p');\n  yes.classList.add('js-warning-alert__yes');\n  yes.innerText = 'Yes';\n  yes.addEventListener('click', funcYes);\n\n  const no = document.createElement('p');\n  no.classList.add('js-warning-alert__no');\n  no.innerText = 'No';\n  no.addEventListener('click', funcNo);\n\n  warning.append(yes, no);\n\n  return warning;\n}\n\nfunction changePicture(picLink) {\n  refs.svgimage.setAttribute('data', picLink);\n  hideModal();\n}\n\nfunction makeFile(name) {\n  let file;\n  const fileData = [];\n  fileData.push(refs.svgimage.contentDocument.querySelector('svg').outerHTML);\n  let properties = { type: 'text/plain' };\n  try {\n    file = new File(fileData, name, properties);\n  } catch (e) {\n    file = new Blob(data, properties);\n  }\n  const url = URL.createObjectURL(file);\n  // console.log(file);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'kolyornytsia.svg';\n  document.body.appendChild(a);\n  a.click();\n  setTimeout(function () {\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  }, 0);\n}\n\nfunction sleep(milliseconds) {\n  const date = Date.now();\n  let currentDate = null;\n  do {\n    currentDate = Date.now();\n  } while (currentDate - date < milliseconds);\n}\n","export class PalletteArchive {\n  constructor() {\n    this.palletteArr = [];\n  }\n\n  addPallettes(colorPalArr) {\n    //requires array of objects {palletteName, colorNumArr}\n    for (const pallette of colorPalArr) {\n      this.addOnePallette(pallette);\n    }\n  }\n\n  addOnePallette({ palletteName, colorNumArr }) {\n    if (!this.palletteArr.find((a) => a.palletteName === palletteName)) {\n      this.palletteArr.push({ palletteName, colorNumArr });\n      return 1;\n    } else return null;\n  }\n\n  removePallette(palletteName) {\n    if (this.palletteArr.find((a) => (a.palletteName = palletteName))) {\n      this.palletteArr.splice(\n        this.palletteArr.findIndex((a) => (a.palletteName = palletteName)),\n        1\n      );\n      return 1;\n    } else return null;\n  }\n\n  generateNewPallette() {\n    //generates new pallette from library colors\n  }\n\n  generatePalletteMarkup(palletteRef) {\n    let currentPallette = null;\n\n    if (typeof palletteRef === \"string\") {\n      currentPallette = this.palletteArr.find(\n        (a) => a.palletteName === palletteRef\n      );\n    } else if (typeof palletteRef === \"number\" && palletteRef > -1) {\n      currentPallette = this.palletteArr[palletteRef];\n    }\n\n    if (currentPallette) {\n      const colorUl = document.createElement(\"ul\");\n      colorUl.classList.add(\"js-color-pallette\");\n      // colorUl.style =\n      //   \"display: flex; margin-left: -12px; background-color: white; padding: 0; list-style: none;\";\n      for (const colorNum of currentPallette.colorNumArr) {\n        const colorLi = document.createElement(\"li\");\n        colorLi.classList.add(\"js-color-box\");\n        colorLi.style = `background-color: #${colorNum\n          .toString(16)\n          .padStart(6, \"0\")}; --color-box-width: calc((100% / ${\n          currentPallette.colorNumArr.length\n        }) - 8px); --color-box-height: calc((120px / ${\n          currentPallette.colorNumArr.length\n        }) - 5px);`;\n        colorUl.append(colorLi);\n      }\n      const nameP = document.createElement(\"p\");\n      nameP.classList.add(\"pallette-name\");\n      nameP.innerText = currentPallette.palletteName;\n      return [colorUl, nameP];\n    } else {\n      const errorStatement = document.createElement(\"p\");\n      errorStatement.innerText = \"No pallette found.\";\n      return [errorStatement];\n    }\n  }\n\n  generateListMarkup() {\n    const listUl = document.createElement(\"ul\");\n    listUl.classList.add(\"js-pallette-list\");\n    listUl.style =\n      \"display: block; margin: 0; background-color: white; color: black; padding: 0; list-style: none;\";\n    for (const pallette of this.palletteArr) {\n      const listItem = document.createElement(\"li\");\n      listItem.classList.add(\"js-pallette-name\");\n      listItem.dataset.palletteName = pallette.palletteName;\n      listItem.innerText = pallette.palletteName;\n      listUl.append(listItem);\n    }\n    return listUl;\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","set","writable","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$e13576b86460cc50$exports","$e13576b86460cc50$var$_classExtractFieldDescriptor","$e13576b86460cc50$var$_classApplyDescriptorGet","$e13576b86460cc50$var$_interopRequireDefault","__esModule","$bb98491953509995$exports","$bb98491953509995$var$_checkPrivateRedeclaration","$c36c16f840444775$exports","$c36c16f840444775$var$_classExtractFieldDescriptor","$c36c16f840444775$var$_classApplyDescriptorSet","$c36c16f840444775$var$_interopRequireDefault","$da4b248c00322402$exports","key","enumerable","configurable","$1ebbdc97e0c9cd3a$var$_stack","WeakMap","$1ebbdc97e0c9cd3a$export$84202caead5689ba","pushStack","state","$parcel$interopDefault","this","push","err","console","error","watchTheLimit","popStack","pop","limit","shift","clearStack","getLength","constructor","$d2c8e610ed73075e$var$_mode","$d2c8e610ed73075e$export$bd0bf19f25da8474","mode","newMode","Number","MODES","leftClick","event","target","style","fill","currentColor","backHistory","element","newHistoryState","currentTarget","childNodes","forEach","node","returnFocus","mouseOver","stroke","buttons","mouseLeave","gBtnClick","groupBtn","classList","toggle","contains","hoverBtn","remove","hBtnClick","log","undoChange","tempState","exchangeStates","forwardHistory","revertChange","newState","map","el","clearHistory","keyboardCommands","ctrlKey","code","shiftKey","window","focus","undoBtn","revertBtn","_instance","histLimit","addEventListener","$2f835be4cb775ef2$var$pictureGallery","name","link","$2f835be4cb775ef2$var$refs","body","document","querySelector","svgimage","getElementById","imageContainer","openMainMenuBtn","mainMenu","changePicBtn","savePicBtn","menuContainer","backdrop","colorPanel","minimizeBtn","colorListBtn","colorMenu","$2f835be4cb775ef2$var$controller","e","setAttribute","$2f835be4cb775ef2$var$addSvgListeners","$2f835be4cb775ef2$var$myColors","addPallettes","colorPalArr","pallette","addOnePallette","palletteName","colorNumArr","palletteArr","find","a","removePallette","splice","findIndex","generateNewPallette","generatePalletteMarkup","palletteRef","currentPallette","colorUl","createElement","add","colorNum","colorLi","padStart","append","nameP","innerText","errorStatement","generateListMarkup","listUl","listItem","dataset","$2f835be4cb775ef2$var$setCurrentColor","colorString","backgroundColor","objectEl","svgDoc","contentDocument","els","querySelectorAll","$2f835be4cb775ef2$var$onColorClick","$2f835be4cb775ef2$var$showModal","$2f835be4cb775ef2$var$hideModal","$2f835be4cb775ef2$var$updateColorPanel","palletteID","replaceWith","colorBox","children","$2f835be4cb775ef2$var$changePicture","picLink","preventDefault","picArr","header","pic","replaceChildren","item","warning","message","funcYes","funcNo","innerHTML","yes","no","$2f835be4cb775ef2$var$createWarningContent","$2f835be4cb775ef2$var$changePictureAttempt","$2f835be4cb775ef2$var$showPictureList","file","fileData","outerHTML","properties","type","File","Blob","data","createObjectURL","href","download","appendChild","click","setTimeout","removeChild","revokeObjectURL","$2f835be4cb775ef2$var$makeFile","parentElement","event1"],"version":3,"file":"index.5fda761f.js.map"}